{
  "name": "ssr-lambda",
  "version": "1.0.0",
  "private": false,
  "license": "MIT",
  "main": "lambda.js",
  "config": {
    "s3BucketName": "ssr-lambda",
    "region": "eu-central-1",
    "cloudFormationStackName": "SSR",
    "functionName": "app",
    "accountId": "659317009365",
    "localUrl": "http://localhost:3000",
    "remoteUrl": "https://yka0vy308l.execute-api.eu-central-1.amazonaws.com/prod"
  },
  "dependencies": {
    "@babel/runtime": "^7.3.4",
    "aws-serverless-express": "^3.3.3",
    "body-parser": "^1.17.1",
    "compression": "^1.6.2",
    "cors": "^2.8.3",
    "ejs": "^2.5.6",
    "es6-promise": "^4.1.1",
    "express": "^4.15.3",
    "extract-text-webpack-plugin": "^3.0.2",
    "isomorphic-fetch": "^2.2.1",
    "mkdirp": "^0.5.1",
    "node-env": "^0.1.6",
    "npm-run-all": "^4.0.2",
    "pug": "^2.0.0-rc.1",
    "react": "^15.6.1",
    "react-dom": "^15.6.1",
    "react-router-config": "^1.0.0-beta.3",
    "react-router-dom": "^4.1.2",
    "react-scripts": "^1.0.10"
  },
  "scripts": {
    "start": "react-scripts start",
    "start-babel": "babel-node --presets es2015 server.local.js",
    "local": "node ./build/server.local.js",
    "build-local": "yarn && REACT_APP_LOCAL=true PUBLIC_URL=$npm_package_config_localUrl react-scripts build && node scripts/build2.js && REACT_APP_LOCAL=true PUBLIC_URL=$npm_package_config_localUrl yarn babel && cp -fr node_modules ./build/ && mkdir ./build/prod && cp -r ./build/static ./build/prod/static && cp ./build/favicon.ico ./build/manifest.json ./build/prod && cp ./src/server.local.js ./build",
    "build-remote": "yarn && REACT_APP_LOCAL=false PUBLIC_URL=$npm_package_config_remoteUrl react-scripts build && node scripts/build2.js && REACT_APP_LOCAL=false PUBLIC_URL=$npm_package_config_remoteUrl yarn babel && cp -fr node_modules ./build/ && cp ./src/lambda.js ./src/server.aws.js ./build",
    "test-local": "REACT_APP_LOCAL=true react-scripts test --env=jsdom",
    "test-remote": "REACT_APP_LOCAL=false react-scripts test --env=jsdom",
    "eject": "react-scripts eject",
    "package-local": "webpack --env=dev --config webpack.config.js",
    "package-remote": "webpack --env=prod --config webpack.config.js",
    "babel": "babel src -d build/views",
    "clean": "rm -rf build",
    "reset": "yarn clean && rm -rf node_modules && rm -rf yarn.lock npm-debug.log package-lock.json packaged-sam.yaml",
    "watch": "webpack --watch",
    "server": "nodemon server.local.js --watch server.local.js --watch src --exec babel-node",
    "server-dev": "DEVELOPMENT=true nodemon server.local.js --watch server.local.js --watch src --exec babel-node",
    "server-dev:watch": "npm-run-all --parallel server-dev watch",
    "invoke-lambda": "aws lambda invoke --function-name $npm_package_config_functionName --region $npm_package_config_region --payload file://api-gateway-event.json lambda-invoke-response.json && cat lambda-invoke-response.json",
    "create-bucket": "aws s3 mb s3://$npm_package_config_s3BucketName --region $npm_package_config_region",
    "delete-bucket": "aws s3 rb s3://$npm_package_config_s3BucketName --region $npm_package_config_region",
    "package": "aws cloudformation package --template ./cloudformation.yaml --s3-bucket $npm_package_config_s3BucketName --output-template packaged-sam.yaml --region $npm_package_config_region",
    "deploy": "aws cloudformation deploy --template-file packaged-sam.yaml --stack-name $npm_package_config_cloudFormationStackName --capabilities CAPABILITY_IAM --region $npm_package_config_region",
    "package-deploy": "yarn package && yarn deploy",
    "delete-stack": "aws cloudformation delete-stack --stack-name $npm_package_config_cloudFormationStackName --region $npm_package_config_region",
    "setup": "(aws s3api get-bucket-location --bucket $npm_package_config_s3BucketName --region $npm_package_config_region || yarn create-bucket) && yarn package-deploy"
  },
  "devDependencies": {
    "@babel/cli": "^7.2.3",
    "@babel/core": "^7.3.4",
    "@babel/plugin-proposal-class-properties": "^7.3.4",
    "@babel/plugin-transform-runtime": "^7.3.4",
    "@babel/preset-env": "^7.3.4",
    "@babel/preset-react": "^7.0.0",
    "babel-plugin-transform-inline-environment-variables": "^0.4.3"
  }
}
